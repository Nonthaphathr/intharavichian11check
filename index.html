<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏≤‡∏ô‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏ß‡∏¥‡πÄ‡∏ä‡∏µ‡∏¢‡∏£‡∏â‡∏±‡∏ô‡∏ó‡πå ‡πë‡πë (V3.2 Final + Reporter)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600&family=Prompt:wght@300;400;500;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Prompt', 'Sarabun', sans-serif; background-color: #f0f4f8; }
        .kru-bg { background-color: #dbeafe; color: #1e40af; border: 1px solid #93c5fd; }
        .lahu-bg { background-color: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }
        .syllable-box { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center;
            width: 65px; 
            height: 70px; 
            margin: 6px; 
            border-radius: 8px;
            position: relative;
            transition: all 0.2s;
            background-color: white;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
        .empty-box {
            background-color: #f3f4f6;
            border: 2px dashed #d1d5db;
            color: #9ca3af;
        }
        .syllable-word { font-size: 1.1rem; font-weight: 600; margin-bottom: 2px; }
        .syllable-type { font-size: 0.7rem; opacity: 0.8; }
        .badge {
            position: absolute;
            top: -8px;
            right: -15px; 
            color: white;
            font-size: 0.55rem;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            z-index: 10;
            white-space: nowrap; 
            width: max-content;
        }
        .badge-error { background-color: #ef4444; }
        
        .extra-word {
            display: inline-block;
            background-color: #fee2e2;
            color: #b91c1c;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.9rem;
            border: 1px solid #fca5a5;
            margin-right: 4px;
        }
        .logo-shadow { filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1)); }

        /* Button Animation */
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.7); transform: scale(1); }
            50% { box-shadow: 0 0 0 10px rgba(99, 102, 241, 0); transform: scale(1.02); }
            100% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0); transform: scale(1); }
        }
        .btn-animate {
            animation: pulse-glow 3s infinite;
        }
        .btn-animate:hover {
            animation: none;
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        #summaryText {
            font-family: 'Sarabun', monospace;
            white-space: pre-wrap;
        }
        
        /* Floating Button & Modal Styles */
        .floating-btn {
            position: fixed;
            bottom: 30px; 
            right: 30px;
            z-index: 50;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 0 4px 15px rgba(249, 115, 22, 0.4); /* ‡πÄ‡∏á‡∏≤‡∏™‡∏µ‡∏™‡πâ‡∏° */
        }
        .floating-btn:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: 0 6px 20px rgba(249, 115, 22, 0.6);
        }
        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <div class="container max-w-4xl mx-auto p-4 flex-grow">
        
        <div class="bg-white rounded-2xl shadow-sm p-6 mb-6 text-center border border-gray-100 relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-indigo-500 to-purple-600"></div>
            <div class="flex flex-col md:flex-row items-center justify-center gap-6 mb-4">
                <img src="https://img5.pic.in.th/file/secure-sv1/logo-vichakarngo-6.png" alt="Logo" class="w-32 h-auto rounded-lg logo-shadow object-contain">
                <div class="text-left">
                    <h1 class="text-2xl md:text-3xl font-bold text-gray-800">‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏≤‡∏ô‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏ß‡∏¥‡πÄ‡∏ä‡∏µ‡∏¢‡∏£‡∏â‡∏±‡∏ô‡∏ó‡πå ‡πë‡πë</h1>
                    <p class="text-gray-500 mt-1">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå (‡∏Ñ‡∏£‡∏∏-‡∏•‡∏´‡∏∏) ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™</p>
                    <div class="mt-2 inline-block bg-purple-50 text-purple-700 text-xs px-3 py-1 rounded-full border border-purple-100 font-medium">
                        ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ ‡∏Ñ‡∏£‡∏π‡∏ô‡∏ô‡∏ó‡∏û‡∏±‡∏ó‡∏ò‡πå ‡∏´‡∏¥‡∏£‡∏±‡∏ç‡πÄ‡∏£‡∏∑‡∏≠‡∏á
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-2xl shadow-sm p-6 mb-6 border border-gray-100">
            <label class="block text-gray-700 font-bold mb-2 flex flex-col md:flex-row md:items-center justify-between gap-2">
                <span class="flex items-center gap-2 text-lg">üìù ‡∏ß‡∏≤‡∏á‡∏ö‡∏ó‡∏õ‡∏£‡∏∞‡∏û‡∏±‡∏ô‡∏ò‡πå (‡πÅ‡∏¢‡∏Å‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô)</span>
                <span class="text-xs font-normal text-gray-500 bg-gray-100 px-3 py-1 rounded-full">V3.2 Final</span>
            </label>
            
            <textarea id="poemInput" rows="6" class="w-full bg-gray-50 border border-gray-200 rounded-xl p-4 text-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition placeholder-gray-400 font-medium" placeholder="‡∏ß‡∏≤‡∏á‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏ß‡∏¥‡πÄ‡∏ä‡∏µ‡∏¢‡∏£‡∏â‡∏±‡∏ô‡∏ó‡πå ‡πë‡πë ‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡∏ô‡∏µ‡πà
‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á :
‡∏¢‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à
‡∏Å‡πá‡∏§‡∏ó‡∏±‡∏¢‡∏£‡∏∞‡∏£‡∏∑‡πà‡∏ô‡∏ä‡∏π
‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏¥‡∏ï‡∏£‡∏™‡∏¥‡∏´‡∏î‡∏´‡∏π‡πà
‡∏°‡∏¥‡∏•‡∏∞‡∏´‡πà‡∏≤‡∏á ‡∏§ ‡∏´‡∏≤‡∏¢‡∏´‡∏ô‡∏µ"></textarea>
            
            <div class="mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4 shadow-sm">
                <div class="flex items-start gap-3">
                    <div class="mt-1 text-blue-600">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <div class="flex-grow">
                        <h4 class="font-bold text-gray-800 text-sm mb-1">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏û‡∏¢‡∏≤‡∏á‡∏Ñ‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏≠‡πà‡∏≤‡∏ô 2 ‡πÅ‡∏ö‡∏ö</h4>
                        <p class="text-sm text-gray-600 leading-relaxed mb-3">
                            ‡∏Å‡∏£‡∏ì‡∏µ‡∏Ñ‡∏≥‡∏ö‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ 2 ‡πÅ‡∏ö‡∏ö ‡∏à‡∏∂‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏Ñ‡∏£‡∏∏ ‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏Ñ‡∏≥‡∏•‡∏´‡∏∏ ‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô <b>"‡∏î‡∏∏‡∏à"</b> 
                            <ul class="list-disc ml-5 text-sm text-gray-600 mt-1 mb-2">
                                <li>‡∏ñ‡πâ‡∏≤‡∏•‡∏á‡πÉ‡∏ô‡∏Å‡∏£‡∏≠‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Ñ‡∏£‡∏∏ (‡∏≠‡πà‡∏≤‡∏ô‡∏ß‡πà‡∏≤ ‡∏î‡∏∏‡∏î)</li>
                                <li>‡∏ñ‡πâ‡∏≤‡∏•‡∏á‡πÉ‡∏ô‡∏Å‡∏£‡∏≠‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏•‡∏´‡∏∏ ‡∏à‡∏∞‡πÑ‡∏î‡πâ 2 ‡∏Å‡∏£‡∏≠‡∏ö (‡∏≠‡πà‡∏≤‡∏ô‡∏ß‡πà‡∏≤ ‡∏î‡∏∏-‡∏à‡∏∞) <b>‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</b></li>
                            </ul>
                            <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs font-bold">‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ</span> 
                            <span class="text-sm text-gray-600">‡∏Å‡∏£‡∏ì‡∏µ‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏•‡∏´‡∏∏‡πÉ‡∏´‡πâ <b>‡πÄ‡∏Ñ‡∏≤‡∏∞‡∏ß‡∏£‡∏£‡∏Ñ‡πÅ‡∏¢‡∏Å‡∏Ñ‡∏≥</b> ‡πÄ‡∏ä‡πà‡∏ô <b>‡∏î‡∏∏‡∏à</b> ‡πÄ‡∏õ‡πá‡∏ô <b>‡∏î‡∏∏ ‡∏à</b> ‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•</span>
                        </p>
                    </div>
                </div>
            </div>

            <div class="flex justify-end mt-6">
                <button onclick="analyzePoem()" class="btn-animate bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold py-3 px-8 rounded-full shadow-lg flex items-center gap-3 text-lg cursor-pointer transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏á‡∏≤‡∏ô
                </button>
            </div>
        </div>

        <div id="resultArea" class="hidden animate-fade-in-up">
            <div class="flex items-center gap-2 mb-4">
                <div class="w-1.5 h-8 bg-purple-600 rounded-full"></div>
                <h3 class="text-xl font-bold text-gray-800">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h3>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div class="bg-white p-5 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition">
                    <h4 class="font-bold text-gray-700 mb-2 border-b border-gray-100 pb-2">‡∏ú‡∏±‡∏á‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö (‡∏Ñ‡∏£‡∏∏-‡∏•‡∏´‡∏∏)</h4>
                    <div id="kruLahuSummary"></div>
                </div>
                <div class="bg-white p-5 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition">
                    <h4 class="font-bold text-gray-700 mb-2 border-b border-gray-100 pb-2">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥ (‡∏Ç‡∏≤‡∏î/‡πÄ‡∏Å‡∏¥‡∏ô)</h4>
                    <div id="wordCountSummary"></div>
                </div>
                <div class="bg-white p-5 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition">
                    <h4 class="font-bold text-gray-700 mb-2 border-b border-gray-100 pb-2">‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö</h4>
                    <div id="samphusSummary" class="text-sm space-y-2"></div>
                </div>
            </div>

            <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm overflow-x-auto hover:shadow-md transition mb-6">
                <div id="visualResult" class="space-y-6 min-w-[600px]"></div>
            </div>

            <div class="bg-gray-50 rounded-xl border border-gray-200 p-6 relative">
                <h4 class="font-bold text-gray-700 mb-3 flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd" />
                    </svg>
                    ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
                </h4>
                <div class="bg-white border border-gray-300 rounded-lg p-4 text-sm text-gray-700 font-mono overflow-x-auto" id="summaryText"></div>
                <div class="mt-3 flex justify-end">
                    <button onclick="copySummary()" id="btnCopy" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg text-sm flex items-center gap-2 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
                        </svg>
                        ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <button onclick="openReportModal()" class="floating-btn bg-orange-500 hover:bg-orange-600 text-gray-900 rounded-full px-6 py-4 flex items-center gap-3 border-2 border-orange-400">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
        </svg>
        <span class="text-sm font-extrabold tracking-wide">
            ‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏ß‡∏ö‡∏Ñ‡∏≥(‡πÑ‡∏°‡πà‡πÅ‡∏¢‡∏Å‡∏û‡∏¢‡∏≤‡∏á‡∏Ñ‡πå)
        </span>
    </button>

    <div id="reportModal" class="fixed inset-0 hidden items-center justify-center z-50 modal-backdrop opacity-0 transition-opacity duration-300">
        <div class="bg-white rounded-2xl shadow-2xl p-6 w-full max-w-lg m-4 transform scale-95 transition-transform duration-300 relative" id="modalContent">
            
            <div class="flex justify-between items-start mb-4 border-b border-gray-100 pb-3">
                <div>
                    <h3 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                        <span class="bg-orange-100 text-orange-600 p-1.5 rounded-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                            </svg>
                        </span>
                        ‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏ß‡∏ö‡∏Ñ‡∏≥
                    </h3>
                    <p class="text-xs text-gray-500 mt-1">‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏à‡πâ‡∏á‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏¢‡∏Å‡∏û‡∏¢‡∏≤‡∏á‡∏Ñ‡πå (‡∏•‡∏´‡∏∏) ‡πÅ‡∏ï‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏ß‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¢‡∏≤‡∏á‡∏Ñ‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>
                </div>
                <button onclick="closeReportModal()" class="text-gray-400 hover:text-gray-600 transition p-1 hover:bg-gray-100 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            
            <div class="bg-blue-50 border border-blue-100 rounded-lg p-3 mb-5 text-sm text-blue-800">
                <p class="font-bold mb-1">üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</p>
                <ul class="list-disc ml-4 space-y-1 text-blue-700">
                    <li>‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <b>"‡∏™‡∏ö‡∏≤‡∏¢"</b> ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡πà‡∏≤‡∏ô‡∏ß‡πà‡∏≤ <b>"‡∏™‡∏ö‡∏≤‡∏¢" (1 ‡∏Ñ‡∏≥)</b> ‡∏ã‡∏∂‡πà‡∏á‡∏ú‡∏¥‡∏î</li>
                    <li>‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏£‡∏≤‡∏ö‡∏ß‡πà‡∏≤ ‡∏Ñ‡∏ß‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô <b>"‡∏™ ‡∏ö‡∏≤‡∏¢" (2 ‡∏Ñ‡∏≥)</b></li>
                </ul>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">1. ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÄ‡∏ï‡πá‡∏° (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô)</label>
                    <input type="text" id="reportWord" class="w-full border-2 border-gray-200 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-orange-200 focus:border-orange-400 focus:outline-none transition font-medium" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏ö‡∏≤‡∏¢">
                </div>
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-1">2. ‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏û‡∏¢‡∏≤‡∏á‡∏Ñ‡πå‡πÅ‡∏•‡πâ‡∏ß (‡πÄ‡∏Ñ‡∏≤‡∏∞‡∏ß‡∏£‡∏£‡∏Ñ‡∏ï‡∏£‡∏á‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏¢‡∏Å)</label>
                    <input type="text" id="reportSplit" class="w-full border-2 border-gray-200 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-orange-200 focus:border-orange-400 focus:outline-none transition font-medium" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™ ‡∏ö‡∏≤‡∏¢">
                    <p class="text-xs text-orange-600 mt-1">* ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÄ‡∏Ñ‡∏≤‡∏∞‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡∏£‡∏£‡∏Ñ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏û‡∏¢‡∏≤‡∏á‡∏Ñ‡πå</p>
                </div>
                
                <button onclick="submitReport()" id="btnSubmitReport" class="w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold py-3 rounded-xl shadow-lg transform hover:-translate-y-0.5 transition flex justify-center items-center gap-2 mt-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤
                </button>
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        // 0. CONFIG & REPORT SYSTEM
        // ==========================================
        
        // ‚ö†Ô∏è‚ö†Ô∏è ‡∏ß‡∏≤‡∏á URL ‡∏Ç‡∏≠‡∏á Google Apps Script Web App ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£ Deploy ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‚ö†Ô∏è‚ö†Ô∏è
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxLzE68y1uVVdkhiYfp5qswWbGE9QIYJsIhDhgDTa8LCPhvfEuPGwev589NgBooOjC_/exec'; 

        function openReportModal() {
            const modal = document.getElementById('reportModal');
            const content = document.getElementById('modalContent');
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                content.classList.remove('scale-95');
                content.classList.add('scale-100');
            }, 10);
        }

        function closeReportModal() {
            const modal = document.getElementById('reportModal');
            const content = document.getElementById('modalContent');
            modal.classList.add('opacity-0');
            content.classList.remove('scale-100');
            content.classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        function submitReport() {
            if (GOOGLE_SCRIPT_URL === 'YOUR_GOOGLE_SCRIPT_WEB_APP_URL_HERE') {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Google Apps Script ‡πÅ‡∏•‡∏∞‡πÉ‡∏™‡πà URL ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö");
                return;
            }

            const word = document.getElementById('reportWord').value.trim();
            const split = document.getElementById('reportSplit').value.trim();
            const btn = document.getElementById('btnSubmitReport');

            if (!word || !split) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö");

            // UI Loading state
            const originalText = btn.innerHTML;
            btn.innerHTML = `<svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...`;
            btn.disabled = true;

            fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                body: JSON.stringify({ word: word, split: split })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    alert(data.message);
                    document.getElementById('reportWord').value = '';
                    document.getElementById('reportSplit').value = '';
                    closeReportModal();
                } else {
                    alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + data.message);
                }
            })
            .catch(error => {
                alert('‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà');
                console.error('Error:', error);
            })
            .finally(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
            });
        }

        // ==========================================
        // 1. CORE LOGIC (Updated V3.2)
        // ==========================================

        function processLeadingConsonants(word) {
            const anamYWords = ['‡∏≠‡∏¢‡πà‡∏≤', '‡∏≠‡∏¢‡∏π‡πà', '‡∏≠‡∏¢‡πà‡∏≤‡∏á', '‡∏≠‡∏¢‡∏≤‡∏Å'];
            for (let w of anamYWords) if (word.startsWith(w.replace(/[‡πà‡πâ‡πä‡πã‡πå]/g, ''))) return '‡∏¢' + word.substring(2);
            if (word.length >= 2 && word.charAt(0) === '‡∏´' && ['‡∏á', '‡∏¢', '‡∏ç', '‡∏£', '‡∏ô', '‡∏•', '‡∏°', '‡∏ß'].includes(word.charAt(1))) return word.substring(1);
            return word;
        }

        function hasAiVowel(word) {
            if (word.includes('‡πÑ') || word.includes('‡πÉ') || word.includes('‡∏±‡∏¢')) return true;
            const specialAiWords = ['‡∏ß‡∏±‡∏¢', '‡∏ä‡∏±‡∏¢', '‡∏†‡∏±‡∏¢', '‡πÑ‡∏ó‡∏¢', '‡∏≠‡∏±‡∏¢', '‡∏Ç‡∏±‡∏¢', '‡∏ô‡∏±‡∏¢', '‡∏•‡∏±‡∏¢', '‡∏™‡∏±‡∏¢', '‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢', '‡∏≠‡∏≤‡∏®‡∏±‡∏¢', '‡∏ß‡∏¥‡∏™‡∏±‡∏¢', '‡∏õ‡∏£‡∏ô‡∏±‡∏¢', '‡∏≠‡∏∏‡∏õ‡∏±‡∏¢', '‡∏ß‡∏¥‡∏ò‡∏±‡∏¢'];
            for (let w of specialAiWords) if (word === w || word.endsWith(w)) return true;
            return false;
        }

        function getFinalConsonantGroup(word) {
            if (hasAiVowel(word)) return '‡πÄ‡∏Å‡∏¢';
            const lastChar = word.charAt(word.length - 1);
            const groups = {
                '‡∏Å‡∏Ç‡∏Ñ‡∏Ü': '‡∏Å‡∏Å', '‡∏à‡∏ä‡∏ã‡∏å‡∏ç‡∏î‡∏ï‡∏ñ‡∏ó‡∏ò‡∏®‡∏©‡∏™‡∏é‡∏è‡∏ê‡∏ë‡∏í': '‡∏Å‡∏î', '‡∏ö‡∏õ‡∏û‡∏ü‡∏†': '‡∏Å‡∏ö',
                '‡∏ô‡∏ì‡∏£‡∏•‡∏¨': '‡∏Å‡∏ô', '‡∏°': '‡∏Å‡∏°', '‡∏á': '‡∏Å‡∏á', '‡∏¢': '‡πÄ‡∏Å‡∏¢', '‡∏ß': '‡πÄ‡∏Å‡∏≠‡∏ß'
            };
            for (let g in groups) if (g.includes(lastChar)) return groups[g];
            return '‡∏Å‡∏Å‡∏≤';
        }

        function getVowelSound(word) {
            if (hasAiVowel(word)) return '‡πÑ‡∏≠';
            if (word.includes('‡πÄ‡∏≠‡∏µ‡∏¢')) return '‡πÄ‡∏≠‡∏µ‡∏¢';
            if (word.includes('‡πÄ‡∏≠‡∏∑‡∏≠')) return '‡πÄ‡∏≠‡∏∑‡∏≠';
            if (word.includes('‡∏≠‡∏±‡∏ß')) return '‡∏≠‡∏±‡∏ß';
            if (word.includes('‡πÄ‡∏≠‡∏≤‡∏∞')) return '‡πÄ‡∏≠‡∏≤‡∏∞';
            if (word.includes('‡πÄ‡∏≠‡∏≠‡∏∞')) return '‡πÄ‡∏≠‡∏≠‡∏∞';
            if (word.includes('‡πÄ‡∏≠‡∏µ‡∏¢‡∏∞')) return '‡πÄ‡∏≠‡∏µ‡∏¢‡∏∞';
            if (word.includes('‡πÄ‡∏≠‡∏∑‡∏≠‡∏∞')) return '‡πÄ‡∏≠‡∏∑‡∏≠‡∏∞';
            if (word.includes('‡∏≠‡∏±‡∏ß‡∏∞')) return '‡∏≠‡∏±‡∏ß‡∏∞';
            
            if (word.includes('‡∏≠‡∏≥') || word.includes('‡∏≥')) return '‡∏≠‡∏≥';
            if (word.includes('‡πÄ‡∏≠‡∏≤') || (word.includes('‡πÄ') && word.includes('‡∏≤'))) return '‡πÄ‡∏≠‡∏≤';
            
            if (word.includes('‡πÄ‡∏≠‡∏≠')) return '‡πÄ‡∏≠‡∏≠';
            if (word.includes('‡πÅ‡∏≠')) return '‡πÅ‡∏≠';
            if (word.includes('‡πÇ‡∏≠')) return '‡πÇ‡∏≠';
            if (word.includes('‡∏≠‡∏≠')) return '‡∏≠‡∏≠';
            if (word.includes('‡∏≠‡∏∑')) return '‡∏≠‡∏∑';
            if (word.includes('‡∏≠‡∏π')) return '‡∏≠‡∏π';
            if (word.includes('‡∏≠‡∏µ')) return '‡∏≠‡∏µ';
            if (word.includes('‡∏≠‡∏≤') || word.includes('‡∏≤')) return '‡∏≠‡∏≤';
            
            if (word.includes('‡πÄ‡∏≠‡∏∞')) return '‡πÄ‡∏≠‡∏∞';
            if (word.includes('‡πÅ‡∏≠‡∏∞')) return '‡πÅ‡∏≠‡∏∞';
            if (word.includes('‡πÇ‡∏≠‡∏∞')) return '‡πÇ‡∏≠‡∏∞';
            if (word.includes('‡∏≠‡∏∂')) return '‡∏≠‡∏∂';
            if (word.includes('‡∏≠‡∏∏')) return '‡∏≠‡∏∏';
            if (word.includes('‡∏≠‡∏¥')) return '‡∏≠‡∏¥';
            if (word.includes('‡∏≠‡∏∞') || word.includes('‡∏∞') || word.includes('‡∏±')) return '‡∏≠‡∏∞';
            
            if (word.includes('‡πÄ')) return '‡πÄ‡∏≠'; 
            if (word.includes('‡πÇ')) return '‡πÇ‡∏≠';
            
            const vowels = /[‡∏∞‡∏≤‡∏¥‡∏µ‡∏∂‡∏∑‡∏∏‡∏π‡πÄ‡πÅ‡πÇ‡πÉ‡πÑ‡∏≥‡∏±]/;
            if (!word.match(vowels)) return '‡πÇ‡∏≠‡∏∞'; 

            return '‡∏≠‡∏≤'; 
        }

        function getVowelAndFinalSound(word) {
            if (!word) return { vowel: '', finalGroup: '' };
            const cleanWord = word.replace(/[‡πà‡πâ‡πä‡πã‡πå]/g, '');
            const processedWord = processLeadingConsonants(cleanWord);
            
            if (/‡∏£‡∏£[‡∏ñ‡∏ï‡∏©‡∏™‡∏®‡∏î‡∏à‡∏ä‡∏é‡∏è‡∏ê‡∏ë‡∏í‡∏ó‡∏ò]$/.test(processedWord)) return { vowel: '‡∏≠‡∏∞', finalGroup: '‡∏Å‡∏î' };
            if (/‡∏£‡∏£[‡∏Ñ‡∏Å‡∏Ç‡∏Ü]$/.test(processedWord)) return { vowel: '‡∏≠‡∏∞', finalGroup: '‡∏Å‡∏Å' };
            if (/‡∏£‡∏£[‡∏û‡∏†‡∏ö‡∏õ‡∏ü]$/.test(processedWord)) return { vowel: '‡∏≠‡∏∞', finalGroup: '‡∏Å‡∏ö' };
            if (processedWord.endsWith('‡∏£‡∏£‡∏°')) return { vowel: '‡∏≠‡∏≥', finalGroup: '‡∏Å‡∏Å‡∏≤' };
            if (processedWord.endsWith('‡∏£‡∏£')) return { vowel: '‡∏≠‡∏∞', finalGroup: '‡∏Å‡∏ô' };
            if (processedWord.endsWith('‡∏£‡∏£‡∏ì')) return { vowel: '‡∏≠‡∏∞', finalGroup: '‡∏Å‡∏ô' };
            
            if (hasAiVowel(processedWord)) return { vowel: '‡πÑ‡∏≠', finalGroup: '‡πÄ‡∏Å‡∏¢' };
            
            const vowel = getVowelSound(processedWord);
            const finalGroup = getFinalConsonantGroup(processedWord);
            return { vowel, finalGroup };
        }

        function hasEndingConsonant(word) {
            const cleanWord = word.replace(/[‡πà‡πâ‡πä‡πã‡πå]/g, '');
            const processedWord = processLeadingConsonants(cleanWord);
            const finalConsonants = "‡∏Å‡∏Ç‡∏Ñ‡∏Ü‡∏à‡∏ä‡∏ã‡∏å‡∏ç‡∏î‡∏ï‡∏ñ‡∏ó‡∏ò‡∏®‡∏©‡∏™‡∏é‡∏è‡∏ê‡∏ö‡∏õ‡∏ú‡∏ù‡∏û‡∏ü‡∏†‡∏ô‡∏ì‡∏£‡∏•‡∏¨‡∏°‡∏¢‡∏ß‡∏á";
            const lastChar = processedWord.charAt(processedWord.length - 1);
            if (finalConsonants.includes(lastChar)) {
                if (processedWord.length === 1) return false;
                if ("‡πà‡πâ‡πä‡πã‡πå".includes(processedWord.charAt(processedWord.length - 2))) return false;
                return true;
            }
            return false;
        }

        // --- isLahu Logic (UPDATED V3.2 - Supports Single Consonants) ---
        function isLahu(word) {
            if (!word) return false;
            word = word.trim();
            const cleanWord = word.replace(/[‡πà‡πâ‡πä‡πã‡πå]/g, '');
            const processedWord = processLeadingConsonants(cleanWord);
            
            // 1. Explicit Lahu
            const specialLahu = ["‡∏Å‡πá", "‡∏ö‡πà", "‡∏ì", "‡∏ò", "‡∏à‡∏∞", "‡∏ó‡∏¥", "‡∏õ‡∏¥", "‡∏¢‡∏∞", "‡∏™‡∏¥", "‡∏ò‡∏∏", "‡∏£‡∏∞", "‡∏û‡∏∞", "‡∏°‡∏¥", "‡∏î‡∏∏", "‡πÄ‡∏ï‡∏∞", "‡∏Å‡∏∞", "‡∏ô‡∏¥", "‡∏ú‡∏•‡∏¥", "‡∏•‡∏∏", "‡∏§", "‡∏≠‡∏¥", "‡∏ï‡∏¥", "‡∏≠‡∏∏", "‡∏´‡∏¥"];
            if (specialLahu.includes(word)) return true;

            // 2. Ends with '‡∏∞' or '‡πÄ‡∏≠‡∏≤‡∏∞'
            if (processedWord.endsWith("‡∏∞") || processedWord.includes("‡πÄ‡∏≠‡∏≤‡∏∞")) return true;

            // 3. *** PURE CONSONANT CHECK (for manual splits like "‡∏™") ***
            // If length 1, no vowel marks, no tones, no ending consonant logic -> Lahu (e.g. ‡∏™, ‡∏õ, ‡∏Å)
            const allVowelsAndTones = /[‡∏∞‡∏≤‡∏¥‡∏µ‡∏∂‡∏∑‡∏∏‡∏π‡πÄ‡πÅ‡πÇ‡πÉ‡πÑ‡∏≥‡∏±‡πà‡πâ‡πä‡πã‡πå]/;
            if (word.length === 1 && !allVowelsAndTones.test(word) && !hasEndingConsonant(word)) {
                return true;
            }

            // 4. Sara Gern -> Kru
            if (processedWord.includes("‡∏≥") || processedWord.includes("‡πÑ") || processedWord.includes("‡πÉ")) return false; 
            if (processedWord.includes("‡πÄ") && processedWord.includes("‡∏≤")) return false;

            // 5. Final Consonant -> Kru
            if (hasEndingConsonant(word)) return false;

            // 6. Long Vowel -> Kru
            const forceKruLongVowels = ["‡∏≤", "‡∏µ", "‡∏∑", "‡∏π", "‡πÄ", "‡πÅ", "‡πÇ", "‡∏≠"];
            let hasLongVowel = false;
            for (let v of forceKruLongVowels) if (processedWord.includes(v)) hasLongVowel = true;

            if (hasLongVowel) {
                const shorteners = ["‡∏∞", "‡πá"];
                let isShortened = false;
                for (let s of shorteners) if (processedWord.includes(s)) isShortened = true;
                if (processedWord.includes("‡πÄ‡∏≠‡∏≤‡∏∞") || processedWord.includes("‡πÄ‡∏≠‡∏≠‡∏∞") || processedWord.includes("‡∏≠‡∏±‡∏ß‡∏∞") || processedWord.includes("‡πÄ‡∏≠‡∏µ‡∏¢‡∏∞")) isShortened = true;
                
                if (!isShortened) return false; 
            }
            return true; 
        }

        function checkSamphus(word1, word2) {
            if (!word1 || !word2) return false;
            const sound1 = getVowelAndFinalSound(word1);
            const sound2 = getVowelAndFinalSound(word2);
            return sound1.vowel === sound2.vowel && sound1.finalGroup === sound2.finalGroup;
        }

        // --- 2. TOKENIZER (Expanded Dictionary V3.2) ---
        
        const MANUAL_SPLITS = {
            // --- ‡∏Ñ‡∏≥‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ / ‡∏Ñ‡∏≥‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™ / ‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° ---
            "‡∏Ç‡∏ì‡∏∞": ["‡∏Ç", "‡∏ì‡∏∞"], "‡∏™‡∏•‡∏∞": ["‡∏™", "‡∏•‡∏∞"],
            "‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á": ["‡∏Ñ‡∏¥‡∏î", "‡∏ñ‡∏∂‡∏á"], "‡∏´‡∏±‡∏ß‡πÉ‡∏à": ["‡∏´‡∏±‡∏ß", "‡πÉ‡∏à"], "‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à": ["‡πÄ‡∏™‡∏µ‡∏¢", "‡πÉ‡∏à"], "‡∏î‡∏µ‡πÉ‡∏à": ["‡∏î‡∏µ", "‡πÉ‡∏à"],
            "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à": ["‡πÄ‡∏Ç‡πâ‡∏≤", "‡πÉ‡∏à"], "‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à": ["‡∏°‡∏±‡πà‡∏ô", "‡πÉ‡∏à"], "‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à": ["‡∏†‡∏π‡∏°‡∏¥", "‡πÉ‡∏à"], "‡∏™‡∏∏‡∏Ç‡πÉ‡∏à": ["‡∏™‡∏∏‡∏Ç", "‡πÉ‡∏à"],
            "‡∏ó‡∏∏‡∏Å‡∏Ç‡πå‡πÉ‡∏à": ["‡∏ó‡∏∏‡∏Å‡∏Ç‡πå", "‡πÉ‡∏à"], "‡∏ô‡πâ‡∏≠‡∏¢‡πÉ‡∏à": ["‡∏ô‡πâ‡∏≠‡∏¢", "‡πÉ‡∏à"], "‡∏´‡πà‡∏ß‡∏á‡πÉ‡∏¢": ["‡∏´‡πà‡∏ß‡∏á", "‡πÉ‡∏¢"], "‡∏™‡∏ô‡πÉ‡∏à": ["‡∏™‡∏ô", "‡πÉ‡∏à"],
            "‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à": ["‡∏ï‡∏±‡πâ‡∏á", "‡πÉ‡∏à"], "‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏à": ["‡∏à‡∏£‡∏¥‡∏á", "‡πÉ‡∏à"], "‡πÄ‡∏ï‡πá‡∏°‡πÉ‡∏à": ["‡πÄ‡∏ï‡πá‡∏°", "‡πÉ‡∏à"], "‡∏ß‡∏≤‡∏á‡πÉ‡∏à": ["‡∏ß‡∏≤‡∏á", "‡πÉ‡∏à"],
            "‡∏ô‡πâ‡∏≥‡πÉ‡∏à": ["‡∏ô‡πâ‡∏≥", "‡πÉ‡∏à"], "‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ": ["‡∏£‡πâ‡∏≠‡∏á", "‡πÑ‡∏´‡πâ"], "‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞": ["‡∏´‡∏±‡∏ß", "‡πÄ‡∏£‡∏≤‡∏∞"], "‡∏¢‡∏¥‡πâ‡∏°‡πÅ‡∏¢‡πâ‡∏°": ["‡∏¢‡∏¥‡πâ‡∏°", "‡πÅ‡∏¢‡πâ‡∏°"],
            "‡∏™‡∏î‡πÉ‡∏™": ["‡∏™‡∏î", "‡πÉ‡∏™"], "‡∏´‡∏ß‡∏±‡πà‡∏ô‡πÑ‡∏´‡∏ß": ["‡∏´‡∏ß‡∏±‡πà‡∏ô", "‡πÑ‡∏´‡∏ß"], "‡∏≠‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß": ["‡∏≠‡πà‡∏≠‡∏ô", "‡πÑ‡∏´‡∏ß"], "‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏°‡πÉ‡∏™": ["‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏°", "‡πÉ‡∏™"],
            "‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™": ["‡πÇ‡∏õ‡∏£‡πà‡∏á", "‡πÉ‡∏™"], "‡∏™‡∏∏‡∏Å‡πÉ‡∏™": ["‡∏™‡∏∏‡∏Å", "‡πÉ‡∏™"], "‡∏≠‡∏≥‡πÑ‡∏û": ["‡∏≠‡∏≥", "‡πÑ‡∏û"], "‡∏ß‡∏¥‡πÑ‡∏•": ["‡∏ß‡∏¥", "‡πÑ‡∏•"],
            "‡πÄ‡∏â‡πÑ‡∏•": ["‡πÄ‡∏â", "‡πÑ‡∏•"], "‡∏£‡πà‡∏≥‡πÑ‡∏£": ["‡∏£‡πà‡∏≥", "‡πÑ‡∏£"], "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç": ["‡πÅ‡∏Å‡πâ", "‡πÑ‡∏Ç"], "‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç": ["‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô", "‡πÑ‡∏Ç"],
            "‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡πÑ‡∏°‡πâ": ["‡∏Å‡∏•‡πâ‡∏ß‡∏¢", "‡πÑ‡∏°‡πâ"], "‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ": ["‡∏ï‡πâ‡∏ô", "‡πÑ‡∏°‡πâ"], "‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ": ["‡∏î‡∏≠‡∏Å", "‡πÑ‡∏°‡πâ"], "‡∏ú‡∏•‡πÑ‡∏°‡πâ": ["‡∏ú‡∏•", "‡πÑ‡∏°‡πâ"],
            "‡∏£‡∏ñ‡πÑ‡∏ü": ["‡∏£‡∏ñ", "‡πÑ‡∏ü"], "‡πÑ‡∏ü‡∏ü‡πâ‡∏≤": ["‡πÑ‡∏ü", "‡∏ü‡πâ‡∏≤"], "‡∏≠‡∏∞‡πÑ‡∏£": ["‡∏≠‡∏∞", "‡πÑ‡∏£"], "‡∏ó‡∏≥‡πÑ‡∏°": ["‡∏ó‡∏≥", "‡πÑ‡∏°"],
            "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏£": ["‡πÄ‡∏°‡∏∑‡πà‡∏≠", "‡πÑ‡∏£"], "‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£": ["‡πÄ‡∏ó‡πà‡∏≤", "‡πÑ‡∏£"], "‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£": ["‡∏≠‡∏¢‡πà‡∏≤‡∏á", "‡πÑ‡∏£"], "‡πÉ‡∏Ñ‡∏£‡πÉ‡∏Ñ‡∏£": ["‡πÉ‡∏Ñ‡∏£", "‡πÉ‡∏Ñ‡∏£"],
            "‡πÉ‡∏î‡πÉ‡∏î": ["‡πÉ‡∏î", "‡πÉ‡∏î"], "‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ": ["‡∏ó‡∏±‡πà‡∏ß", "‡πÑ‡∏õ"], "‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤": ["‡∏Å‡πâ‡∏≤‡∏ß", "‡∏´‡∏ô‡πâ‡∏≤"], "‡∏Å‡πâ‡∏≤‡∏ß‡πÑ‡∏Å‡∏•": ["‡∏Å‡πâ‡∏≤‡∏ß", "‡πÑ‡∏Å‡∏•"],
            "‡∏≠‡∏≤‡∏®‡∏±‡∏¢": ["‡∏≠‡∏≤", "‡∏®‡∏±‡∏¢"], "‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢": ["‡∏õ‡∏±‡∏à", "‡∏à‡∏±‡∏¢"], "‡πÄ‡∏¢‡∏∑‡πà‡∏≠‡πÉ‡∏¢": ["‡πÄ‡∏¢‡∏∑‡πà‡∏≠", "‡πÉ‡∏¢"], "‡∏û‡∏≠‡πÉ‡∏à": ["‡∏û‡∏≠", "‡πÉ‡∏à"],
            "‡∏ñ‡∏π‡∏Å‡πÉ‡∏à": ["‡∏ñ‡∏π‡∏Å", "‡πÉ‡∏à"], "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏µ": ["‡∏Ñ‡∏ß‡∏≤‡∏°", "‡∏î‡∏µ"], "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡πà‡∏ß": ["‡∏Ñ‡∏ß‡∏≤‡∏°", "‡∏ä‡∏±‡πà‡∏ß"], "‡∏†‡∏π‡∏ú‡∏≤": ["‡∏†‡∏π", "‡∏ú‡∏≤"],
            "‡∏°‡∏´‡∏≤": ["‡∏°‡∏∞", "‡∏´‡∏≤"], "‡∏ò‡∏∏‡∏£‡∏∞": ["‡∏ò‡∏∏", "‡∏£‡∏∞"], "‡∏´‡∏¥‡∏°‡∏∞": ["‡∏´‡∏¥", "‡∏°‡∏∞"], "‡∏•‡∏∞‡πÄ‡∏°‡∏≠": ["‡∏•‡∏∞", "‡πÄ‡∏°‡∏≠"],
            "‡∏•‡∏∞‡∏°‡∏∏‡∏ô": ["‡∏•‡∏∞", "‡∏°‡∏∏‡∏ô"], "‡∏§‡∏ó‡∏±‡∏¢": ["‡∏§", "‡∏ó‡∏±‡∏¢"], "‡∏ö‡∏¥‡∏î‡∏≤": ["‡∏ö‡∏¥", "‡∏î‡∏≤"], "‡∏°‡∏≤‡∏£‡∏î‡∏≤": ["‡∏°‡∏≤‡∏£", "‡∏î‡∏≤"],
            "‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤": ["‡∏ô‡∏≤", "‡∏¨‡∏¥", "‡∏Å‡∏≤"], "‡∏ß‡∏≤‡∏à‡∏≤": ["‡∏ß‡∏≤", "‡∏à‡∏≤"], "‡∏®‡∏¥‡∏•‡∏≤": ["‡∏®‡∏¥", "‡∏•‡∏≤"], "‡∏î‡∏≤‡∏£‡∏≤": ["‡∏î‡∏≤", "‡∏£‡∏≤"],

            // --- ‡∏´‡∏°‡∏ß‡∏î "‡∏õ‡∏£‡∏∞" (Pra) ‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ ---
            "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥": ["‡∏õ‡∏£‡∏∞", "‡∏ß‡∏±‡∏ï‡∏¥"], "‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì": ["‡∏õ‡∏£‡∏∞", "‡∏°‡∏≤‡∏ì"], "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®": ["‡∏õ‡∏£‡∏∞", "‡∏Å‡∏≤‡∏®"], 
            "‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô": ["‡∏õ‡∏£‡∏∞", "‡∏ä‡∏≤", "‡∏ä‡∏ô"], "‡∏õ‡∏£‡∏∞‡∏û‡∏§‡∏ï‡∏¥": ["‡∏õ‡∏£‡∏∞", "‡∏û‡∏§‡∏ï‡∏¥"], "‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó": ["‡∏õ‡∏£‡∏∞", "‡∏™‡∏≤‡∏ó"], 
            "‡∏õ‡∏£‡∏∞‡πÄ‡∏™‡∏£‡∏¥‡∏ê": ["‡∏õ‡∏£‡∏∞", "‡πÄ‡∏™‡∏£‡∏¥‡∏ê"], "‡∏õ‡∏£‡∏∞‡∏™‡∏ö": ["‡∏õ‡∏£‡∏∞", "‡∏™‡∏ö"], "‡∏õ‡∏£‡∏≤‡∏Å‡∏è": ["‡∏õ‡∏£‡∏≤", "‡∏Å‡∏è"], 
            "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå": ["‡∏õ‡∏£‡∏∞", "‡πÇ‡∏¢‡∏ä‡∏ô‡πå"], "‡∏õ‡∏£‡∏∞‡∏†‡∏≤‡∏™": ["‡∏õ‡∏£‡∏∞", "‡∏†‡∏≤‡∏™"], "‡∏õ‡∏£‡∏∞‡∏à‡∏á": ["‡∏õ‡∏£‡∏∞", "‡∏à‡∏á"],
            "‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤": ["‡∏õ‡∏£‡∏∞", "‡∏ñ‡∏°", "‡∏®‡∏∂‡∏Å", "‡∏©‡∏≤"], "‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£": ["‡∏õ‡∏£‡∏∞", "‡∏ä‡∏≤", "‡∏Å‡∏£"], 
            "‡∏õ‡∏£‡∏∞‡πÄ‡∏û‡∏ì‡∏µ": ["‡∏õ‡∏£‡∏∞", "‡πÄ‡∏û", "‡∏ì‡∏µ"], "‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®": ["‡∏õ‡∏£‡∏∞", "‡πÄ‡∏ó‡∏®"], "‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô": ["‡∏õ‡∏£‡∏∞", "‡∏ò‡∏≤‡∏ô"],
            "‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î": ["‡∏õ‡∏£‡∏∞", "‡∏´‡∏¢‡∏±‡∏î"], "‡∏õ‡∏£‡∏∞‡∏à‡∏≥": ["‡∏õ‡∏£‡∏∞", "‡∏à‡∏≥"], "‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö": ["‡∏õ‡∏£‡∏∞", "‡∏î‡∏±‡∏ö"],
            "‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°": ["‡∏õ‡∏£‡∏∞", "‡∏ä‡∏∏‡∏°"], "‡∏õ‡∏£‡∏∞‡∏ï‡∏π": ["‡∏õ‡∏£‡∏∞", "‡∏ï‡∏π"], "‡∏õ‡∏£‡∏∞‡∏°‡∏á": ["‡∏õ‡∏£‡∏∞", "‡∏°‡∏á"],
            "‡∏õ‡∏£‡∏∞‡∏ó‡∏±‡∏ö": ["‡∏õ‡∏£‡∏∞", "‡∏ó‡∏±‡∏ö"], "‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå": ["‡∏õ‡∏£‡∏∞", "‡∏™‡∏á‡∏Ñ‡πå"], "‡∏õ‡∏£‡∏∞‡∏Å‡∏ß‡∏î": ["‡∏õ‡∏£‡∏∞", "‡∏Å‡∏ß‡∏î"],
            "‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô": ["‡∏õ‡∏£‡∏∞", "‡∏Å‡∏±‡∏ô"], "‡∏õ‡∏£‡∏∞‡∏Ñ‡∏≠‡∏á": ["‡∏õ‡∏£‡∏∞", "‡∏Ñ‡∏≠‡∏á"], "‡∏õ‡∏£‡∏∞‡πÇ‡∏Ñ‡∏°": ["‡∏õ‡∏£‡∏∞", "‡πÇ‡∏Ñ‡∏°"],
            "‡∏õ‡∏£‡∏∞‡∏à‡∏ö": ["‡∏õ‡∏£‡∏∞", "‡∏à‡∏ö"], "‡∏õ‡∏£‡∏∞‡∏à‡∏≤‡∏ô": ["‡∏õ‡∏£‡∏∞", "‡∏à‡∏≤‡∏ô"], "‡∏õ‡∏£‡∏∞‡πÄ‡∏à‡∏¥‡∏î": ["‡∏õ‡∏£‡∏∞", "‡πÄ‡∏à‡∏¥‡∏î"],
            "‡∏õ‡∏£‡∏∞‡∏ä‡∏¥‡∏î": ["‡∏õ‡∏£‡∏∞", "‡∏ä‡∏¥‡∏î"], "‡∏õ‡∏£‡∏∞‡∏ì‡∏≤‡∏°": ["‡∏õ‡∏£‡∏∞", "‡∏ì‡∏≤‡∏°"], "‡∏õ‡∏£‡∏∞‡∏î‡∏∏‡∏à": ["‡∏õ‡∏£‡∏∞", "‡∏î‡∏∏‡∏à"],
            "‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡∏¥‡∏°": ["‡∏õ‡∏£‡∏∞", "‡πÄ‡∏î‡∏¥‡∏°"], "‡∏õ‡∏£‡∏∞‡∏ó‡∏∏": ["‡∏õ‡∏£‡∏∞", "‡∏ó‡∏∏"], "‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô": ["‡∏õ‡∏£‡∏∞", "‡∏ó‡∏≤‡∏ô"],
            "‡∏õ‡∏£‡∏∞‡∏ó‡∏µ‡∏õ": ["‡∏õ‡∏£‡∏∞", "‡∏ó‡∏µ‡∏õ"], "‡∏õ‡∏£‡∏∞‡∏ó‡∏∏‡∏ô": ["‡∏õ‡∏£‡∏∞", "‡∏ó‡∏∏‡∏ô"], "‡∏õ‡∏£‡∏∞‡∏ó‡πâ‡∏ß‡∏á": ["‡∏õ‡∏£‡∏∞", "‡∏ó‡πâ‡∏ß‡∏á"],
            "‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•": ["‡∏õ‡∏£‡∏∞", "‡∏°‡∏ß‡∏•"], "‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô": ["‡∏õ‡∏£‡∏∞", "‡πÄ‡∏°‡∏¥‡∏ô"], "‡∏õ‡∏£‡∏∞‡∏•‡∏≠‡∏á": ["‡∏õ‡∏£‡∏∞", "‡∏•‡∏≠‡∏á"],
            "‡∏õ‡∏£‡∏∞‡∏´‡∏≤‡∏£": ["‡∏õ‡∏£‡∏∞", "‡∏´‡∏≤‡∏£"], "‡∏õ‡∏£‡∏∞‡∏´‡∏ô‡∏∂‡πà‡∏á": ["‡∏õ‡∏£‡∏∞", "‡∏´‡∏ô‡∏∂‡πà‡∏á"], "‡∏õ‡∏£‡∏∞‡∏´‡∏•‡∏≤‡∏î": ["‡∏õ‡∏£‡∏∞", "‡∏´‡∏•‡∏≤‡∏î"],

            // --- ‡∏´‡∏°‡∏ß‡∏î "‡∏Å‡∏£‡∏∞" (Kra) ‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ ---
            "‡∏Å‡∏£‡∏∞‡∏ó‡∏≥": ["‡∏Å‡∏£‡∏∞", "‡∏ó‡∏≥"], "‡∏Å‡∏≥‡∏´‡∏ô‡∏î": ["‡∏Å‡∏≥", "‡∏´‡∏ô‡∏î"], "‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô": ["‡∏Å‡∏£‡∏∞", "‡∏ö‡∏ß‡∏ô"],
            "‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å": ["‡∏Å‡∏£‡∏∞", "‡∏î‡∏π‡∏Å"], "‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©": ["‡∏Å‡∏£‡∏∞", "‡∏î‡∏≤‡∏©"], "‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤": ["‡∏Å‡∏£‡∏∞", "‡πÄ‡∏õ‡πã‡∏≤"],
            "‡∏Å‡∏£‡∏∞‡∏à‡∏Å": ["‡∏Å‡∏£‡∏∞", "‡∏à‡∏Å"], "‡∏Å‡∏£‡∏∞‡∏à‡πà‡∏≤‡∏á": ["‡∏Å‡∏£‡∏∞", "‡∏à‡πà‡∏≤‡∏á"], "‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î": ["‡∏Å‡∏£‡∏∞", "‡πÇ‡∏î‡∏î"],
            "‡∏Å‡∏£‡∏∞‡∏ï‡πà‡∏≤‡∏¢": ["‡∏Å‡∏£‡∏∞", "‡∏ï‡πà‡∏≤‡∏¢"], "‡∏Å‡∏£‡∏∞‡πÅ‡∏™": ["‡∏Å‡∏£‡∏∞", "‡πÅ‡∏™"], "‡∏Å‡∏£‡∏∞‡∏ó‡∏π‡πâ": ["‡∏Å‡∏£‡∏∞", "‡∏ó‡∏π‡πâ"],
            "‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà": ["‡∏Å‡∏£‡∏∞", "‡∏ö‡∏µ‡πà"], "‡∏Å‡∏£‡∏∞‡∏ó‡∏ö": ["‡∏Å‡∏£‡∏∞", "‡∏ó‡∏ö"], "‡∏Å‡∏£‡∏∞‡∏´‡∏°‡πà‡∏≠‡∏°": ["‡∏Å‡∏£‡∏∞", "‡∏´‡∏°‡πà‡∏≠‡∏°"],
            "‡∏Å‡∏£‡∏∞‡∏´‡∏≤‡∏¢": ["‡∏Å‡∏£‡∏∞", "‡∏´‡∏≤‡∏¢"], "‡∏Å‡∏£‡∏∞‡πÅ‡∏™": ["‡∏Å‡∏£‡∏∞", "‡πÅ‡∏™"], "‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á": ["‡∏Å‡∏£‡∏∞", "‡∏ó‡∏£‡∏ß‡∏á"],
            "‡∏Å‡∏£‡∏∞‡∏ó‡∏á": ["‡∏Å‡∏£‡∏∞", "‡∏ó‡∏á"], "‡∏Å‡∏£‡∏∞‡∏ó‡∏∞": ["‡∏Å‡∏£‡∏∞", "‡∏ó‡∏∞"], "‡∏Å‡∏£‡∏∞‡∏ö‡∏∞": ["‡∏Å‡∏£‡∏∞", "‡∏ö‡∏∞"],
            "‡∏Å‡∏£‡∏∞‡∏ö‡∏∑‡∏≠": ["‡∏Å‡∏£‡∏∞", "‡∏ö‡∏∑‡∏≠"], "‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á": ["‡∏Å‡∏£‡∏∞", "‡∏õ‡πã‡∏≠‡∏á"], "‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô": ["‡∏Å‡∏£‡∏∞", "‡∏î‡∏≤‡∏ô"],
            "‡∏Å‡∏£‡∏∞‡∏î‡∏¥‡πà‡∏á": ["‡∏Å‡∏£‡∏∞", "‡∏î‡∏¥‡πà‡∏á"], "‡∏Å‡∏£‡∏∞‡∏î‡∏∏‡∏°": ["‡∏Å‡∏£‡∏∞", "‡∏î‡∏∏‡∏°"], "‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô": ["‡∏Å‡∏£‡∏∞", "‡∏ï‡∏∏‡πâ‡∏ô"],
            "‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á": ["‡∏Å‡∏£‡∏∞", "‡∏ñ‡∏≤‡∏á"], "‡∏Å‡∏£‡∏∞‡∏ó‡∏¥‡∏á": ["‡∏Å‡∏£‡∏∞", "‡∏ó‡∏¥‡∏á"], "‡∏Å‡∏£‡∏∞‡∏£‡∏≠‡∏Å": ["‡∏Å‡∏£‡∏∞", "‡∏£‡∏≠‡∏Å"],
            "‡∏Å‡∏£‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô": ["‡∏Å‡∏£‡∏∞", "‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"], "‡∏Å‡∏£‡∏∞‡∏ß‡∏≤‡∏ô": ["‡∏Å‡∏£‡∏∞", "‡∏ß‡∏≤‡∏ô"], "‡∏Å‡∏£‡∏∞‡∏©‡∏±‡∏¢": ["‡∏Å‡∏£‡∏∞", "‡∏©‡∏±‡∏¢"],
            "‡∏Å‡∏£‡∏∞‡∏©‡∏≤‡∏õ‡∏ì‡πå": ["‡∏Å‡∏£‡∏∞", "‡∏©‡∏≤‡∏õ‡∏ì‡πå"], "‡∏Å‡∏£‡∏∞‡∏´‡∏≤‡∏¢": ["‡∏Å‡∏£‡∏∞", "‡∏´‡∏≤‡∏¢"], "‡∏Å‡∏£‡∏∞‡πÄ‡∏©‡∏°": ["‡∏Å‡∏£‡∏∞", "‡πÄ‡∏©‡∏°"],

            // --- ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ô‡∏≥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏Ñ‡∏ß‡∏ö (‡∏ï‡∏±‡∏î‡πÅ‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÅ‡∏£‡∏Å) ---
            "‡∏™‡∏ö‡∏≤‡∏¢": ["‡∏™", "‡∏ö‡∏≤‡∏¢"], "‡∏™‡∏ô‡∏∏‡∏Å": ["‡∏™", "‡∏ô‡∏∏‡∏Å"], "‡∏™‡∏á‡∏ö": ["‡∏™", "‡∏á‡∏ö"], "‡∏™‡∏ß‡πà‡∏≤‡∏á": ["‡∏™", "‡∏ß‡πà‡∏≤‡∏á"],
            "‡πÑ‡∏™‡∏ß": ["‡∏™", "‡πÑ‡∏´‡∏ß"], "‡∏™‡∏¢‡∏≤‡∏°": ["‡∏™", "‡∏¢‡∏≤‡∏°"], "‡∏™‡∏•‡∏ß‡∏¢": ["‡∏™", "‡∏•‡∏ß‡∏¢"], "‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô": ["‡πÄ", "‡∏™‡∏°‡∏∑‡∏≠‡∏ô"], 
            "‡∏™‡∏ñ‡∏≤‡∏ô": ["‡∏™", "‡∏ñ‡∏≤‡∏ô"], "‡∏™‡∏ñ‡∏¥‡∏ï": ["‡∏™", "‡∏ñ‡∏¥‡∏ï"], "‡∏™‡∏†‡∏≤‡∏û": ["‡∏™", "‡∏†‡∏≤‡∏û"], "‡∏™‡∏Å‡∏±‡∏î": ["‡∏™", "‡∏Å‡∏±‡∏î"], 
            "‡∏™‡∏•‡∏±‡∏î": ["‡∏™", "‡∏•‡∏±‡∏î"], "‡∏™‡∏î‡∏±‡∏ö": ["‡∏™", "‡∏î‡∏±‡∏ö"], "‡∏™‡∏•‡∏±‡∏ö": ["‡∏™", "‡∏•‡∏±‡∏ö"], "‡∏™‡∏°‡∏±‡∏Ñ‡∏£": ["‡∏™", "‡∏°‡∏±‡∏Ñ‡∏£"], 
            "‡∏™‡∏°‡∏≤‡∏ô": ["‡∏™", "‡∏°‡∏≤‡∏ô"], "‡∏™‡∏°‡∏∏‡∏ô": ["‡∏™", "‡∏°‡∏∏‡∏ô"], "‡∏™‡πÄ‡∏ñ‡∏µ‡∏¢‡∏£": ["‡∏™", "‡πÄ‡∏ñ‡∏µ‡∏¢‡∏£"], "‡∏™‡∏á‡∏™‡∏±‡∏¢": ["‡∏™‡∏á", "‡∏™‡∏±‡∏¢"], 
            "‡πÄ‡∏™‡∏£‡πá‡∏à": ["‡πÄ", "‡∏™‡∏£‡πá‡∏à"], "‡∏™‡∏•‡∏∞": ["‡∏™", "‡∏•‡∏∞"], "‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥": ["‡∏™‡∏°", "‡∏ö‡∏±‡∏ï‡∏¥"], "‡∏™‡∏´‡∏≤‡∏¢": ["‡∏™", "‡∏´‡∏≤‡∏¢"], 
            "‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥": ["‡∏™", "‡∏ñ‡∏¥‡∏ï‡∏¥"], "‡∏™‡∏ô‡∏≠‡∏á": ["‡∏™", "‡∏ô‡∏≠‡∏á"], "‡πÄ‡∏™‡∏î‡πá‡∏à": ["‡πÄ", "‡∏™‡∏î‡πá‡∏à"], "‡πÅ‡∏™‡∏î‡∏á": ["‡πÅ", "‡∏™‡∏î‡∏á"],
            "‡∏™‡∏ï‡∏£‡∏µ": ["‡∏™", "‡∏ï‡∏£‡∏µ"], "‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå": ["‡∏™", "‡∏ï‡∏≤‡∏á‡∏Ñ‡πå"], "‡∏™‡∏Å‡∏∏‡∏•": ["‡∏™", "‡∏Å‡∏∏‡∏•"], "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ": ["‡∏™", "‡∏ß‡∏±‡∏™", "‡∏î‡∏µ"],
            "‡∏™‡∏•‡∏±‡∏Å": ["‡∏™", "‡∏•‡∏±‡∏Å"], "‡πÄ‡∏™‡∏ô‡∏≠": ["‡πÄ", "‡∏™‡∏ô‡∏≠"], "‡πÄ‡∏™‡∏ô‡∏≤‡∏∞": ["‡πÄ", "‡∏™‡∏ô‡∏≤‡∏∞"], "‡∏™‡∏ô‡∏≤‡∏ô": ["‡∏™", "‡∏ô‡∏≤‡∏ô"],

            // ‡∏Å‡∏•‡∏∏‡πà‡∏° ‡∏â/‡∏ñ/‡∏Ç/‡∏ú (‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ô‡∏≥‡∏≠‡∏∑‡πà‡∏ô‡πÜ)
            "‡∏â‡∏•‡∏≤‡∏î": ["‡∏â", "‡∏•‡∏≤‡∏î"], "‡∏â‡∏ö‡∏±‡∏ö": ["‡∏â", "‡∏ö‡∏±‡∏ö"], "‡πÄ‡∏â‡∏•‡∏µ‡∏¢‡∏ß": ["‡πÄ", "‡∏â‡∏•‡∏µ‡∏¢‡∏ß"], "‡∏â‡∏•‡∏≠‡∏á": ["‡∏â", "‡∏•‡∏≠‡∏á"], "‡πÑ‡∏â‡∏ô": ["‡πÑ", "‡∏â‡∏ô"],
            "‡∏ï‡∏•‡∏≤‡∏î": ["‡∏ï", "‡∏•‡∏≤‡∏î"], "‡∏ï‡∏•‡∏Å": ["‡∏ï", "‡∏•‡∏Å"], "‡∏ï‡∏•‡∏≠‡∏î": ["‡∏ï", "‡∏•‡∏≠‡∏î"], "‡∏ï‡∏ß‡∏±‡∏î": ["‡∏ï", "‡∏ß‡∏±‡∏î"], "‡∏ï‡∏ô‡∏∏": ["‡∏ï", "‡∏ô‡∏∏"],
            "‡∏ñ‡∏ô‡∏ô": ["‡∏ñ", "‡∏ô‡∏ô"], "‡∏ñ‡∏ô‡∏±‡∏î": ["‡∏ñ", "‡∏ô‡∏±‡∏î"], "‡∏ñ‡∏ß‡∏≤‡∏¢": ["‡∏ñ", "‡∏ß‡∏≤‡∏¢"], "‡∏ñ‡∏•‡πà‡∏°": ["‡∏ñ", "‡∏•‡πà‡∏°"], "‡∏ñ‡∏•‡∏∏‡∏á": ["‡∏ñ", "‡∏•‡∏∏‡∏á"],
            "‡∏Ç‡∏ô‡∏°": ["‡∏Ç", "‡∏ô‡∏°"], "‡∏Ç‡∏à‡∏±‡∏î": ["‡∏Ç", "‡∏à‡∏±‡∏î"], "‡∏Ç‡∏¢‡∏±‡∏ö": ["‡∏Ç", "‡∏¢‡∏±‡∏ö"], "‡∏Ç‡∏¢‡∏≤‡∏¢": ["‡∏Ç", "‡∏¢‡∏≤‡∏¢"], "‡∏Ç‡∏ô‡∏∏‡∏ô": ["‡∏Ç", "‡∏ô‡∏∏‡∏ô"],
            "‡πÄ‡∏Ç‡∏°‡∏≤": ["‡πÄ", "‡∏Ç‡∏°‡∏≤"], "‡∏Ç‡∏ô‡∏≤‡∏ô": ["‡∏Ç", "‡∏ô‡∏≤‡∏ô"], 
            "‡πÄ‡∏â‡∏û‡∏≤‡∏∞": ["‡πÄ", "‡∏â‡∏û‡∏≤‡∏∞"], "‡πÄ‡∏ú‡∏≠‡∏¥‡∏ç": ["‡πÄ", "‡∏ú‡∏≠‡∏¥‡∏ç"], "‡πÄ‡∏ú‡∏ä‡∏¥‡∏ç": ["‡πÄ", "‡∏ú‡∏ä‡∏¥‡∏ç"], "‡∏ú‡∏à‡∏ç": ["‡∏ú", "‡∏à‡∏ç"], 
            "‡∏ú‡∏™‡∏≤‡∏ô": ["‡∏ú", "‡∏™‡∏≤‡∏ô"], "‡∏ú‡∏ô‡∏ß‡∏Å": ["‡∏ú", "‡∏ô‡∏ß‡∏Å"], "‡∏ú‡∏•‡∏¥‡∏ï": ["‡∏ú", "‡∏•‡∏¥‡∏ï"], "‡∏ú‡∏•‡∏∂‡∏Å": ["‡∏ú", "‡∏•‡∏∂‡∏Å"], "‡∏ú‡∏™‡∏°": ["‡∏ú", "‡∏™‡∏°"],

            // ‡∏Å‡∏•‡∏∏‡πà‡∏° ‡∏Å/‡∏à/‡∏õ (‡∏û‡∏¢‡∏≤‡∏á‡∏Ñ‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏™‡∏±‡πâ‡∏ô)
            "‡∏à‡∏£‡∏ß‡∏î": ["‡∏à", "‡∏£‡∏ß‡∏î"], "‡∏à‡∏£‡∏¥‡∏ï": ["‡∏à", "‡∏£‡∏¥‡∏ï"], "‡∏à‡∏£‡∏±‡∏™": ["‡∏à", "‡∏£‡∏±‡∏™"], "‡∏à‡∏•‡∏≤‡∏à‡∏•": ["‡∏à", "‡∏•‡∏≤", "‡∏à‡∏•"],
            "‡πÄ‡∏à‡∏£‡∏¥‡∏ç": ["‡πÄ", "‡∏à‡∏£‡∏¥‡∏ç"], "‡∏Å‡∏ö‡∏≤‡∏•": ["‡∏Å", "‡∏ö‡∏≤‡∏•"], "‡∏Å‡∏©‡∏±‡∏ï‡∏£‡∏¥‡∏¢‡πå": ["‡∏Å", "‡∏©‡∏±‡∏ï‡∏£‡∏¥‡∏¢‡πå"], "‡∏Å‡∏ö‡∏¥‡∏•": ["‡∏Å", "‡∏ö‡∏¥‡∏•"],
            "‡∏Å‡∏ô‡∏Å": ["‡∏Å", "‡∏ô‡∏Å"], "‡∏à‡∏£‡∏∞‡πÄ‡∏Ç‡πâ": ["‡∏à", "‡∏£‡∏∞", "‡πÄ‡∏Ç‡πâ"], "‡∏õ‡∏Å‡∏ï‡∏¥": ["‡∏õ", "‡∏Å", "‡∏ï‡∏¥"], "‡∏õ‡∏ó‡∏∏‡∏°": ["‡∏õ", "‡∏ó‡∏∏‡∏°"],

            // --- ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏™‡∏∞‡∏Å‡∏î‡∏ï‡∏£‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏≤ / ‡∏ï‡∏±‡∏ß‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡πå / ‡∏£‡∏£ (‡∏ï‡∏±‡∏î‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ) ---
            "‡∏õ‡∏±‡∏ç‡∏´‡∏≤": ["‡∏õ‡∏±‡∏ç", "‡∏´‡∏≤"], "‡∏õ‡∏±‡∏ç‡∏ç‡∏≤": ["‡∏õ‡∏±‡∏ç", "‡∏ç‡∏≤"], "‡∏™‡∏±‡∏ç‡∏ç‡∏≤": ["‡∏™‡∏±‡∏ç", "‡∏ç‡∏≤"], "‡∏™‡∏±‡∏ç‡∏à‡∏£": ["‡∏™‡∏±‡∏ç", "‡∏à‡∏£"],
            "‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç": ["‡∏™‡∏≥", "‡∏Ñ‡∏±‡∏ç"], "‡∏£‡∏≥‡∏Ñ‡∏≤‡∏ç": ["‡∏£‡∏≥", "‡∏Ñ‡∏≤‡∏ç"], "‡∏ä‡∏≥‡∏ô‡∏≤‡∏ç": ["‡∏ä‡∏≥", "‡∏ô‡∏≤‡∏ç"], "‡∏™‡∏≥‡∏£‡∏≤‡∏ç": ["‡∏™‡∏≥", "‡∏£‡∏≤‡∏ç"],
            "‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì": ["‡∏ß‡∏¥‡∏ç", "‡∏ç‡∏≤‡∏ì"], "‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì": ["‡∏™‡∏±‡∏ç", "‡∏ç‡∏≤‡∏ì"], "‡∏Å‡∏±‡∏ç‡∏ç‡∏≤": ["‡∏Å‡∏±‡∏ç", "‡∏ç‡∏≤"], "‡∏†‡∏£‡∏£‡∏¢‡∏≤": ["‡∏†‡∏£‡∏£", "‡∏¢‡∏≤"],
            "‡∏°‡∏±‡∏ç‡∏ç‡∏≤": ["‡∏°‡∏±‡∏ç", "‡∏ç‡∏≤"], "‡∏ö‡∏±‡∏ç‡∏ä‡∏≤": ["‡∏ö‡∏±‡∏ç", "‡∏ä‡∏≤"], "‡∏Å‡∏±‡∏ç‡∏ä‡∏≤": ["‡∏Å‡∏±‡∏ç", "‡∏ä‡∏≤"], "‡∏ß‡∏±‡∏ô‡∏ó‡∏≤": ["‡∏ß‡∏±‡∏ô", "‡∏ó‡∏≤"],
            "‡∏ò‡∏±‡∏ô‡∏ß‡∏≤": ["‡∏ò‡∏±‡∏ô", "‡∏ß‡∏≤"], "‡∏à‡∏£‡∏£‡∏¢‡∏≤": ["‡∏à‡∏£‡∏£", "‡∏¢‡∏≤"], "‡∏û‡∏£‡∏£‡∏ì‡∏ô‡∏≤": ["‡∏û‡∏£‡∏£‡∏ì", "‡∏ô‡∏≤"], "‡∏ö‡∏£‡∏£‡∏ó‡∏°": ["‡∏ö‡∏£‡∏£", "‡∏ó‡∏°"],
            "‡∏ö‡∏£‡∏£‡∏à‡∏∏": ["‡∏ö‡∏£‡∏£", "‡∏à‡∏∏"], "‡∏ö‡∏£‡∏£‡∏î‡∏≤": ["‡∏ö‡∏£‡∏£", "‡∏î‡∏≤"], "‡∏™‡∏£‡∏£‡∏û‡∏™‡∏¥‡πà‡∏á": ["‡∏™‡∏£‡∏£‡∏û", "‡∏™‡∏¥‡πà‡∏á"], "‡∏™‡∏£‡∏£‡∏û‡∏™‡∏±‡∏ï‡∏ß‡πå": ["‡∏™‡∏£‡∏£‡∏û", "‡∏™‡∏±‡∏ï‡∏ß‡πå"],
            "‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤": ["‡∏ò‡∏£‡∏£‡∏°", "‡∏î‡∏≤"], "‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥": ["‡∏ò‡∏£‡∏£‡∏°", "‡∏ä‡∏≤‡∏ï‡∏¥"], "‡∏Ñ‡∏∏‡∏ì‡∏ò‡∏£‡∏£‡∏°": ["‡∏Ñ‡∏∏‡∏ì", "‡∏ì", "‡∏ò‡∏£‡∏£‡∏°"],
            "‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ": ["‡∏≠‡∏∏", "‡∏õ", "‡∏™‡∏£‡∏£‡∏Ñ"], "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå": ["‡∏™‡∏£‡πâ‡∏≤‡∏á", "‡∏™‡∏£‡∏£‡∏Ñ‡πå"], "‡∏™‡∏±‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå": ["‡∏™‡∏±‡∏á", "‡∏™‡∏£‡∏£‡∏Ñ‡πå"],
            "‡∏°‡∏´‡∏±‡∏®‡∏à‡∏£‡∏£‡∏¢‡πå": ["‡∏°‡∏∞", "‡∏´‡∏±‡∏®", "‡∏à‡∏£‡∏£‡∏¢‡πå"], "‡∏≠‡∏±‡∏®‡∏à‡∏£‡∏£‡∏¢‡πå": ["‡∏≠‡∏±‡∏®", "‡∏à‡∏£‡∏£‡∏¢‡πå"], "‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå": ["‡∏™‡∏±‡∏°", "‡∏û‡∏±‡∏ô‡∏ò‡πå"],
            "‡∏ú‡∏π‡∏Å‡∏û‡∏±‡∏ô": ["‡∏ú‡∏π‡∏Å", "‡∏û‡∏±‡∏ô"], "‡∏õ‡∏£‡∏∞‡∏û‡∏±‡∏ô‡∏ò‡πå": ["‡∏õ‡∏£‡∏∞", "‡∏û‡∏±‡∏ô‡∏ò‡πå"], "‡∏£‡∏±‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå": ["‡∏£‡∏±‡∏á", "‡∏™‡∏£‡∏£‡∏Ñ‡πå"],
            "‡∏ö‡∏£‡∏¥‡∏ö‡∏π‡∏£‡∏ì‡πå": ["‡∏ö", "‡∏£‡∏¥", "‡∏ö‡∏π‡∏£‡∏ì‡πå"], "‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå": ["‡∏™‡∏°", "‡∏ö‡∏π‡∏£‡∏ì‡πå"], "‡∏ô‡∏¥‡∏û‡∏û‡∏≤‡∏ô": ["‡∏ô‡∏¥‡∏û", "‡∏û‡∏≤‡∏ô"],

            // --- ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ö‡∏≤‡∏•‡∏µ/‡∏™‡∏±‡∏ô‡∏™‡∏Å‡∏§‡∏ï (‡∏ï‡∏±‡∏î‡πÅ‡∏¢‡∏Å‡∏û‡∏¢‡∏≤‡∏á‡∏Ñ‡πå‡∏ï‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏ï‡πà‡∏Ñ‡∏á‡∏£‡∏π‡∏õ) ---
            "‡∏≠‡∏¥‡∏™‡∏£‡∏∞": ["‡∏≠‡∏¥", "‡∏™", "‡∏£‡∏∞"], "‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞": ["‡∏•‡∏±‡∏Å", "‡∏©", "‡∏ì‡∏∞"], "‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞": ["‡∏≠‡∏±‡∏à", "‡∏â", "‡∏£‡∏¥", "‡∏¢‡∏∞"],
            "‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞": ["‡∏™‡∏≤", "‡∏ò‡∏≤", "‡∏£", "‡∏ì‡∏∞"], "‡∏û‡∏≤‡∏´‡∏ô‡∏∞": ["‡∏û‡∏≤", "‡∏´", "‡∏ô‡∏∞"], "‡∏ê‡∏≤‡∏ô‡∏∞": ["‡∏ê‡∏≤", "‡∏ô‡∏∞"],
            "‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤": ["‡∏û‡∏¥", "‡∏à‡∏≤", "‡∏£", "‡∏ì‡∏≤"], "‡∏Å‡∏¥‡∏£‡∏¥‡∏¢‡∏≤": ["‡∏Å‡∏¥", "‡∏£‡∏¥", "‡∏¢‡∏≤"], "‡∏õ‡∏£‡∏¥‡∏®‡∏ô‡∏≤": ["‡∏õ", "‡∏£‡∏¥‡∏®", "‡∏ô‡∏≤"], "‡∏ß‡∏≤‡∏™‡∏ô‡∏≤": ["‡∏ß‡∏≤‡∏™", "‡∏ô‡∏≤"],
            "‡∏°‡∏ò‡∏∏‡∏£‡∏™": ["‡∏°", "‡∏ò‡∏∏", "‡∏£‡∏™"], "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤": ["‡∏Å", "‡∏£‡∏∏", "‡∏ì‡∏≤"], "‡∏õ‡∏è‡∏¥‡∏†‡∏≤‡∏ì": ["‡∏õ", "‡∏è‡∏¥", "‡∏†‡∏≤‡∏ì"],
            "‡∏à‡∏£‡∏¥‡∏¢‡∏≤": ["‡∏à", "‡∏£‡∏¥", "‡∏¢‡∏≤"], "‡∏û‡∏ô‡∏≤": ["‡∏û", "‡∏ô‡∏≤"], "‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå": ["‡∏û", "‡∏¢‡∏≤", "‡∏Å‡∏£‡∏ì‡πå"],
            "‡∏û‡∏§‡∏Å‡∏©‡∏≤": ["‡∏û‡∏§‡∏Å", "‡∏©‡∏≤"], "‡∏û‡∏¥‡∏°‡∏≤‡∏ô": ["‡∏û‡∏¥", "‡∏°‡∏≤‡∏ô"], "‡∏ó‡∏∏‡∏à‡∏£‡∏¥‡∏ï": ["‡∏ó‡∏∏", "‡∏à", "‡∏£‡∏¥‡∏ï"],
            "‡∏ò‡∏£‡∏ì‡∏µ": ["‡∏ò", "‡∏£", "‡∏ì‡∏µ"], "‡∏≠‡∏≤‡∏£‡∏¢‡∏∞": ["‡∏≠‡∏≤", "‡∏£", "‡∏¢‡∏∞"], "‡∏≠‡∏ô‡∏á‡∏Ñ‡πå": ["‡∏≠", "‡∏ô‡∏á‡∏Ñ‡πå"],
            "‡∏≠‡πÄ‡∏ô‡∏Å": ["‡∏≠", "‡πÄ‡∏ô‡∏Å"], "‡∏≠‡∏†‡∏¥‡∏ß‡∏±‡∏ô‡∏ó‡πå": ["‡∏≠", "‡∏†‡∏¥", "‡∏ß‡∏±‡∏ô‡∏ó‡πå"], "‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô": ["‡∏≠", "‡∏ò‡∏¥‡∏©", "‡∏ê‡∏≤‡∏ô"],
            "‡∏≠‡∏∏‡∏ó‡∏Å": ["‡∏≠‡∏∏", "‡∏ó‡∏Å"], "‡∏≠‡∏∏‡∏õ‡∏ñ‡∏±‡∏°‡∏†‡πå": ["‡∏≠‡∏∏", "‡∏õ", "‡∏ñ‡∏±‡∏°‡∏†‡πå"], "‡∏≠‡∏∏‡∏õ‡∏°‡∏≤": ["‡∏≠‡∏∏", "‡∏õ", "‡∏°‡∏≤"],
            "‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï": ["‡∏≠", "‡∏ô‡∏∏", "‡∏ç‡∏≤‡∏ï"], "‡∏≠‡∏°‡∏ï‡∏∞": ["‡∏≠", "‡∏°", "‡∏ï‡∏∞"], "‡∏≠‡∏£‡∏¥‡∏¢‡∏∞": ["‡∏≠", "‡∏£‡∏¥", "‡∏¢‡∏∞"],
            "‡∏≠‡∏†‡∏±‡∏¢": ["‡∏≠", "‡∏†‡∏±‡∏¢"], "‡∏Ñ‡∏ì‡∏¥‡∏ï": ["‡∏Ñ", "‡∏ì‡∏¥‡∏ï"], "‡πÄ‡∏ô‡∏£‡∏°‡∏¥‡∏ï": ["‡πÄ‡∏ô", "‡∏£", "‡∏°‡∏¥‡∏ï"],
            "‡∏à‡∏¥‡∏ô‡∏î‡∏≤": ["‡∏à‡∏¥‡∏ô", "‡∏î‡∏≤"], "‡∏û‡∏™‡∏∏‡∏ò‡∏≤": ["‡∏û", "‡∏™‡∏∏", "‡∏ò‡∏≤"], "‡∏≠‡∏±‡∏™‡∏î‡∏á": ["‡∏≠‡∏±‡∏™", "‡∏î‡∏á"],
            "‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤": ["‡∏ß‡∏¥", "‡∏ò‡∏µ", "‡∏Å‡∏≤"], "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ": ["‡πÄ‡∏ó‡∏Ñ", "‡πÇ‡∏ô", "‡πÇ‡∏•", "‡∏¢‡∏µ"], "‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢": ["‡∏≠‡∏±‡∏ô", "‡∏ï", "‡∏£‡∏≤‡∏¢"],
            "‡πÄ‡∏î‡∏ä‡∏∞": ["‡πÄ‡∏î", "‡∏ä‡∏∞"], "‡∏ß‡∏¥‡∏™‡∏±‡∏¢": ["‡∏ß‡∏¥", "‡∏™‡∏±‡∏¢"], "‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥": ["‡∏≠‡∏∏", "‡∏ö‡∏±‡∏ï‡∏¥"], "‡∏Å‡∏ï‡∏±‡∏ç‡∏ç‡∏π": ["‡∏Å", "‡∏ï‡∏±‡∏ç", "‡∏ç‡∏π"],
            "‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤": ["‡∏Å", "‡∏ï‡∏¥", "‡∏Å‡∏≤"], "‡∏Å‡∏ß‡∏µ": ["‡∏Å", "‡∏ß‡∏µ"], "‡∏Å‡∏£‡∏ì‡∏µ": ["‡∏Å", "‡∏£", "‡∏ì‡∏µ"], "‡∏ó‡∏§‡∏©‡∏é‡∏µ": ["‡∏ó‡∏§‡∏©", "‡∏é‡∏µ"], "‡∏™‡∏Å‡∏≤‡∏ß": ["‡∏™","‡∏Å‡∏≤‡∏ß"] , "‡∏ó‡∏¥‡∏ô‡∏Å‡∏£": ["‡∏ó‡∏¥‡∏ô","‡∏ô","‡∏Å‡∏£"]
        };

        function tokenizeLine(lineText) {
            lineText = lineText.replace(/[^\u0E00-\u0E7F\s]/g, " ");
            const segmenter = new Intl.Segmenter('th', { granularity: 'word' });
            const rawWords = Array.from(segmenter.segment(lineText)).filter(s => s.isWordLike).map(s => s.segment.trim());
            
            let finalSyllables = [];
            const TRUE_CLUSTERS = ['‡∏Å‡∏£', '‡∏Å‡∏•', '‡∏Å‡∏ß', '‡∏Ç‡∏£', '‡∏Ç‡∏•', '‡∏Ç‡∏ß', '‡∏Ñ‡∏£', '‡∏Ñ‡∏•', '‡∏Ñ‡∏ß', '‡∏ï‡∏£', '‡∏õ‡∏£', '‡∏õ‡∏•', '‡∏ú‡∏•', '‡∏û‡∏•', '‡∏û‡∏£'];

            rawWords.forEach(word => {
                if (MANUAL_SPLITS[word]) {
                    finalSyllables.push(...MANUAL_SPLITS[word]);
                    return;
                }

                if (word.length === 4 && word.charAt(2) === '‡∏±') {
                    const c1 = word.charAt(0);
                    const c2 = word.charAt(1);
                    const clusterCheck = c1 + c2;
                    if (c1 !== '‡∏´' && !(c1 === '‡∏≠' && c2 === '‡∏¢') && !TRUE_CLUSTERS.includes(clusterCheck)) {
                        finalSyllables.push(word.charAt(0)); 
                        finalSyllables.push(word.substring(1));
                        return;
                    }
                }

                const piyaPattern = /^([‡∏Å-‡∏Æ][‡∏¥‡∏∏][‡∏Å-‡∏Æ]‡∏∞)$/;
                if (word.match(piyaPattern)) {
                    finalSyllables.push(word.substring(0,2), word.substring(2));
                    return;
                }
                const maliPattern = /^([‡∏Å-‡∏Æ]‡∏∞[‡∏Å-‡∏Æ][‡∏¥‡∏∏‡∏∞]?)$/;
                if (word.length > 2 && word.match(maliPattern)) {
                      finalSyllables.push(word.substring(0,2), word.substring(2));
                      return;
                }
                if (word.length > 2) {
                    let splitIndices = [];
                    for(let i=1; i<word.length; i++) if ("‡πÄ‡πÅ‡πÇ‡πÉ‡πÑ".includes(word[i])) splitIndices.push(i);
                    if (splitIndices.length > 0) {
                        let lastIdx = 0;
                        splitIndices.forEach(idx => {
                            finalSyllables.push(word.substring(lastIdx, idx));
                            lastIdx = idx;
                        });
                        finalSyllables.push(word.substring(lastIdx));
                    } else {
                        finalSyllables.push(word);
                    }
                } else {
                    finalSyllables.push(word);
                }
            });
            return finalSyllables;
        }

        // --- 3. MAIN LOGIC ---

        const PATTERN_STANZA = [
            ['K', 'K', 'L', 'K', 'K'],          
            ['L', 'L', 'K', 'L', 'K', 'K'],      
            ['K', 'K', 'L', 'K', 'K'],          
            ['L', 'L', 'K', 'L', 'K', 'K']      
        ];

        function analyzePoem() {
            const input = document.getElementById('poemInput').value;
            if(!input.trim()) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ß‡∏≤‡∏á‡∏ö‡∏ó‡∏õ‡∏£‡∏∞‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö");

            let rawLines = input.split(/\r?\n/).map(l => l.trim()).filter(l => l !== '');
            let mode = 1;
            if (rawLines.length > 6) mode = 2; 

            let currentPattern = (mode === 1) ? [...PATTERN_STANZA] : [...PATTERN_STANZA, ...PATTERN_STANZA];

            let structuredPoem = [];
            let extraWordsMap = [];

            for(let i = 0; i < currentPattern.length; i++) {
                let requiredPattern = currentPattern[i]; 
                let targetCount = requiredPattern.length;
                
                let userLineSyllables = [];
                if (i < rawLines.length) {
                    userLineSyllables = tokenizeLine(rawLines[i]);
                }

                let mainWords = [];
                let extraWords = [];

                if (userLineSyllables.length <= targetCount) {
                    mainWords = [...userLineSyllables];
                    while(mainWords.length < targetCount) {
                        mainWords.push("?"); 
                    }
                } else {
                    mainWords = userLineSyllables.slice(0, targetCount);
                    extraWords = userLineSyllables.slice(targetCount);
                }

                structuredPoem.push(mainWords);
                extraWordsMap.push(extraWords);
            }

            // --- Rhyme Names ---
            let rhymePairs = [
                { from: [0, 4], to: [1, 2], name: '‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ß‡∏£‡∏£‡∏Ñ (‡∏ö‡∏ó 1 ‡∏ß‡∏£‡∏£‡∏Ñ 1 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÑ‡∏õ‡∏ß‡∏£‡∏£‡∏Ñ 2)' },
                { from: [1, 5], to: [2, 4], name: '‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ö‡∏≤‡∏ó (‡∏ö‡∏ó 1 ‡∏ß‡∏£‡∏£‡∏Ñ 2 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÑ‡∏õ‡∏ß‡∏£‡∏£‡∏Ñ 3)' }
            ];
            if (mode === 2) {
                rhymePairs.push(
                    { from: [3, 5], to: [5, 5], name: '‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ö‡∏ó (‡∏ö‡∏ó 1 ‡∏ß‡∏£‡∏£‡∏Ñ 4 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÑ‡∏õ ‡∏ö‡∏ó 2 ‡∏ß‡∏£‡∏£‡∏Ñ 2)' },
                    { from: [4, 4], to: [5, 2], name: '‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ß‡∏£‡∏£‡∏Ñ (‡∏ö‡∏ó 2 ‡∏ß‡∏£‡∏£‡∏Ñ 1 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÑ‡∏õ‡∏ß‡∏£‡∏£‡∏Ñ 2)' },
                    { from: [5, 5], to: [6, 4], name: '‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ö‡∏≤‡∏ó (‡∏ö‡∏ó 2 ‡∏ß‡∏£‡∏£‡∏Ñ 2 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÑ‡∏õ‡∏ß‡∏£‡∏£‡∏Ñ 3)' }
                );
            }

            renderResult(structuredPoem, extraWordsMap, currentPattern, rhymePairs, mode);
        }

        function renderResult(poem, extraWordsMap, pattern, rhymePairs, mode) {
            const resultArea = document.getElementById('resultArea');
            const visualDiv = document.getElementById('visualResult');
            const kruLahuSummary = document.getElementById('kruLahuSummary');
            const wordCountSummary = document.getElementById('wordCountSummary');
            const samphusSummary = document.getElementById('samphusSummary');
            const summaryTextBox = document.getElementById('summaryText');
            
            visualDiv.innerHTML = '';
            resultArea.classList.remove('hidden');

            let errorKruLahuCount = 0;
            let missingWordCount = 0;
            let extraWordCount = 0;
            let samphusPassCount = 0;
            let samphusFailCount = 0;
            let errorDetailsList = []; 
            
            poem.forEach((verse, vIndex) => {
                const verseDiv = document.createElement('div');
                verseDiv.className = "flex flex-col md:flex-row md:items-center mb-6 border-b border-gray-100 pb-4";
                
                const label = document.createElement('div');
                label.className = "w-24 text-xs text-gray-500 font-bold uppercase tracking-wider mb-2 md:mb-0 flex-shrink-0";
                label.innerText = `‡∏ß‡∏£‡∏£‡∏Ñ ${vIndex + 1}`;
                verseDiv.appendChild(label);

                const contentContainer = document.createElement('div');
                contentContainer.className = "flex flex-wrap items-center gap-2";

                verse.forEach((word, wIndex) => {
                    const expected = pattern[vIndex][wIndex]; 
                    const box = document.createElement('div');
                    
                    if(word === '?') {
                         box.className = "syllable-box empty-box";
                         box.innerHTML = `<span class="text-sm font-bold">‡∏Ç‡∏≤‡∏î</span>`;
                         missingWordCount++;
                         errorDetailsList.push(`- ‡∏ß‡∏£‡∏£‡∏Ñ‡∏ó‡∏µ‡πà ${vIndex + 1} ‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà ${wIndex + 1}: ‡∏Ñ‡∏≥‡∏Ç‡∏≤‡∏î`);
                    } else {
                        const isLahuWord = isLahu(word);
                        const actual = isLahuWord ? 'L' : 'K';
                        let bgClass = actual === 'K' ? 'kru-bg' : 'lahu-bg';
                        let isError = false;

                        if (expected === actual) {
                            box.className = `syllable-box ${bgClass}`;
                        } else {
                            box.className = `syllable-box bg-white border-2 border-red-500 text-red-600`;
                            isError = true;
                            errorKruLahuCount++;
                            const reqType = expected === 'K' ? '‡∏Ñ‡∏£‡∏∏' : '‡∏•‡∏´‡∏∏';
                            errorDetailsList.push(`- ‡∏ß‡∏£‡∏£‡∏Ñ‡∏ó‡∏µ‡πà ${vIndex + 1} ‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà ${wIndex + 1} "${word}": ‡∏ú‡∏¥‡∏î (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô${reqType})`);
                        }

                        const fixLabel = expected === 'K' ? '‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏∏' : '‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏´‡∏∏';

                        box.innerHTML = `
                            <span class="syllable-word">${word}</span>
                            <span class="syllable-type">${actual==='K'?'‡∏Ñ‡∏£‡∏∏':'‡∏•‡∏´‡∏∏'}</span>
                            ${isError ? `<span class="badge badge-error">${fixLabel}</span>` : ''}
                        `;
                    }
                    contentContainer.appendChild(box);
                });

                const extras = extraWordsMap[vIndex];
                if (extras && extras.length > 0) {
                    const extraContainer = document.createElement('div');
                    extraContainer.className = "ml-4 pl-4 border-l-2 border-red-200";
                    extraContainer.innerHTML = `<span class="text-xs text-red-500 font-bold block mb-1">‡∏Ñ‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô:</span>`;
                    extras.forEach(w => {
                        extraWordCount++;
                        const sp = document.createElement('span');
                        sp.className = "extra-word";
                        sp.innerText = w;
                        extraContainer.appendChild(sp);
                    });
                    contentContainer.appendChild(extraContainer);
                    errorDetailsList.push(`- ‡∏ß‡∏£‡∏£‡∏Ñ‡∏ó‡∏µ‡πà ${vIndex + 1}: ‡∏°‡∏µ‡∏Ñ‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ${extras.length} ‡∏Ñ‡∏≥ (${extras.join(', ')})`);
                }
                
                verseDiv.appendChild(contentContainer);
                visualDiv.appendChild(verseDiv);

                if (mode === 2 && vIndex === 3) {
                    const sep = document.createElement('div');
                    sep.className = "w-full border-b-2 border-dashed border-gray-300 my-6 text-center leading-none";
                    sep.innerHTML = "<span class='bg-gray-100 px-2 text-xs text-gray-500'>‡∏à‡∏ö ‡∏ö‡∏ó‡∏ó‡∏µ‡πà 1</span>";
                    visualDiv.appendChild(sep);
                }
            });

            let rhymeHTML = '';
            let rhymeSummaryText = '';
            rhymePairs.forEach(pair => {
                const w1 = poem[pair.from[0]]?.[pair.from[1]];
                const w2 = poem[pair.to[0]]?.[pair.to[1]];

                if(w1 && w2 && w1 !== '?' && w2 !== '?') {
                    const isRhyme = checkSamphus(w1, w2);
                    if(isRhyme) {
                        samphusPassCount++;
                        rhymeHTML += `<div class="flex items-center text-green-700 bg-green-50 p-2 rounded-lg border border-green-100 mb-1">
                            <span class="mr-2">‚úÖ</span> 
                            <span class="text-xs font-bold mr-2 border border-green-200 px-1 rounded text-green-600">${pair.name}</span>
                            <span><b>${w1}</b> - <b>${w2}</b></span>
                        </div>`;
                        rhymeSummaryText += `   ‚úì ${pair.name}: ‡∏ú‡πà‡∏≤‡∏ô (${w1}-${w2})\n`;
                    } else {
                        samphusFailCount++;
                        rhymeHTML += `<div class="flex items-center text-red-700 bg-red-50 p-2 rounded-lg border border-red-100 mb-1">
                            <span class="mr-2">‚ùå</span> 
                             <span class="text-xs font-bold mr-2 border border-red-200 px-1 rounded text-red-500">${pair.name}</span>
                            <span><b>${w1}</b> - <b>${w2}</b></span>
                        </div>`;
                        rhymeSummaryText += `   ‚úñ ${pair.name}: ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô (${w1}-${w2})\n`;
                    }
                } else {
                    rhymeHTML += `<div class="flex items-center text-gray-400 p-2 text-sm mb-1">
                        <span class="mr-2">‚ö™</span> ${pair.name}: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö
                    </div>`;
                    rhymeSummaryText += `   ‚óã ${pair.name}: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (‡∏Ñ‡∏≥‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö)\n`;
                }
            });
            samphusSummary.innerHTML = rhymeHTML;

            if (errorKruLahuCount === 0) {
                kruLahuSummary.innerHTML = `<h2 class="text-3xl font-bold text-green-500">‡∏ú‡πà‡∏≤‡∏ô!</h2><p class="text-gray-500 text-sm">‡∏â‡∏±‡∏ô‡∏ó‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå (‡∏Ñ‡∏£‡∏∏-‡∏•‡∏´‡∏∏) ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>`;
            } else {
                kruLahuSummary.innerHTML = `<h2 class="text-3xl font-bold text-red-500">${errorKruLahuCount} ‡∏à‡∏∏‡∏î</h2><p class="text-gray-500 text-sm">‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏Ñ‡∏£‡∏∏-‡∏•‡∏´‡∏∏</p>`;
            }

            let wordStatusHTML = '';
            let wordStatusText = '';
            if (missingWordCount === 0 && extraWordCount === 0) {
                wordStatusHTML = `<h2 class="text-3xl font-bold text-green-500">‡∏û‡∏≠‡∏î‡∏µ‡πÄ‡∏õ‡πä‡∏∞</h2><p class="text-gray-500 text-sm">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô</p>`;
                wordStatusText = "‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô";
            } else {
                let msg = [];
                if (missingWordCount > 0) msg.push(`‡∏Ç‡∏≤‡∏î ${missingWordCount} ‡∏Ñ‡∏≥`);
                if (extraWordCount > 0) msg.push(`‡πÄ‡∏Å‡∏¥‡∏ô ${extraWordCount} ‡∏Ñ‡∏≥`);
                wordStatusHTML = `<div class="text-red-600 font-bold text-xl">${msg.join(' / ')}</div>`;
                wordStatusText = msg.join(' ‡πÅ‡∏•‡∏∞ ');
            }
            wordCountSummary.innerHTML = wordStatusHTML;

            // --- Generate Final Summary Text ---
            let finalSummary = "‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏ß‡∏¥‡πÄ‡∏ä‡∏µ‡∏¢‡∏£‡∏â‡∏±‡∏ô‡∏ó‡πå ‡πë‡πë\n";
            finalSummary += "--------------------------------\n";
            finalSummary += `[${errorKruLahuCount===0 ? '/' : ' '}] ‡∏ú‡∏±‡∏á‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö (‡∏Ñ‡∏£‡∏∏-‡∏•‡∏´‡∏∏): ${errorKruLahuCount===0 ? '‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á' : '‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ' + errorKruLahuCount + ' ‡∏à‡∏∏‡∏î'}\n`;
            
            if (errorDetailsList.length > 0) {
                finalSummary += "‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î:\n";
                finalSummary += errorDetailsList.join("\n") + "\n";
            }

            finalSummary += `[${(missingWordCount===0 && extraWordCount===0) ? '/' : ' '}] ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥: ${wordStatusText}\n`;
            finalSummary += `[${samphusFailCount===0 ? '/' : ' '}] ‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö: ${samphusFailCount===0 ? '‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' : '‡∏û‡∏ö‡∏à‡∏∏‡∏î‡∏ú‡∏¥‡∏î ' + samphusFailCount + ' ‡∏à‡∏∏‡∏î'}\n`;
            finalSummary += rhymeSummaryText;
            finalSummary += "--------------------------------\n";
            finalSummary += "(‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏î‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏≤‡∏ô‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏ß‡∏¥‡πÄ‡∏ä‡∏µ‡∏¢‡∏£‡∏â‡∏±‡∏ô‡∏ó‡πå V3.2 ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ ‡∏Ñ‡∏£‡∏π‡∏ô‡∏ô‡∏ó‡∏û‡∏±‡∏ó‡∏ò‡πå ‡∏´‡∏¥‡∏£‡∏±‡∏ç‡πÄ‡∏£‡∏∑‡∏≠‡∏á)";
            
            summaryTextBox.textContent = finalSummary;
            
            resultArea.scrollIntoView({ behavior: 'smooth' });
        }

        function copySummary() {
            const text = document.getElementById('summaryText').textContent;
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.getElementById('btnCopy');
                const originalHTML = btn.innerHTML;
                btn.innerHTML = `<span class="text-green-600">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!</span>`;
                setTimeout(() => btn.innerHTML = originalHTML, 2000);
            });
        }
    </script>
</body>
</html>
